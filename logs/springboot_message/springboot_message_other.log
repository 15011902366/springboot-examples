2018-07-03 09:27:21.200 INFO  [main] com.haoxy.rabbitmq.RabbitmqApp.logStarting:48 -Starting RabbitmqApp on hxyMacmini.local with PID 13275 (started by haoxiaoyong in /Users/haoxiaoyong/Git Clone/springboot-examples)
2018-07-03 09:27:21.239 DEBUG [main] com.haoxy.rabbitmq.RabbitmqApp.logStarting:51 -Running with Spring Boot v1.5.6.RELEASE, Spring v4.3.10.RELEASE
2018-07-03 09:27:21.242 INFO  [main] com.haoxy.rabbitmq.RabbitmqApp.logStartupProfileInfo:593 -No active profile set, falling back to default profiles: default
2018-07-03 09:27:27.210 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.addListener:1636 -Added pubsub channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,1), conn: Proxy@23f91cff Shared Rabbit Connection: SimpleConnection@1f39916d [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52741] to map, size now 1
2018-07-03 09:27:27.210 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,1), conn: Proxy@23f91cff Shared Rabbit Connection: SimpleConnection@1f39916d [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52741]
2018-07-03 09:27:27.433 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,1), conn: Proxy@23f91cff Shared Rabbit Connection: SimpleConnection@1f39916d [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52741]
2018-07-03 09:27:27.621 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.addListener:1636 -Added pubsub channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,2), conn: Proxy@23f91cff Shared Rabbit Connection: SimpleConnection@1f39916d [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52741] to map, size now 2
2018-07-03 09:27:27.621 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,2), conn: Proxy@23f91cff Shared Rabbit Connection: SimpleConnection@1f39916d [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52741]
2018-07-03 09:27:27.780 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.addListener:1636 -Added pubsub channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,3), conn: Proxy@23f91cff Shared Rabbit Connection: SimpleConnection@1f39916d [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52741] to map, size now 3
2018-07-03 09:27:27.781 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,3), conn: Proxy@23f91cff Shared Rabbit Connection: SimpleConnection@1f39916d [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52741]
2018-07-03 09:27:27.930 ERROR [main] org.apache.coyote.http11.Http11NioProtocol.log:181 -Failed to start end point associated with ProtocolHandler ["http-nio-9082"]
java.net.BindException: Address already in use
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:990)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:635)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1022)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.addPreviouslyRemovedConnectors(TomcatEmbeddedServletContainer.java:250)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.start(TomcatEmbeddedServletContainer.java:193)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.startEmbeddedServletContainer(EmbeddedWebApplicationContext.java:297)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:145)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)
	at com.haoxy.rabbitmq.RabbitmqApp.main(RabbitmqApp.java:14)
2018-07-03 09:27:27.932 ERROR [main] org.apache.catalina.core.StandardService.log:181 -Failed to start connector [Connector[HTTP/1.1-9082]]
org.apache.catalina.LifecycleException: Failed to start component [Connector[HTTP/1.1-9082]]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.addPreviouslyRemovedConnectors(TomcatEmbeddedServletContainer.java:250)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.start(TomcatEmbeddedServletContainer.java:193)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.startEmbeddedServletContainer(EmbeddedWebApplicationContext.java:297)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:145)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)
	at com.haoxy.rabbitmq.RabbitmqApp.main(RabbitmqApp.java:14)
Caused by: org.apache.catalina.LifecycleException: service.getName(): "Tomcat";  Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1029)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	... 13 common frames omitted
Caused by: java.net.BindException: Address already in use
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:990)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:635)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1022)
	... 14 common frames omitted
2018-07-03 09:27:27.950 ERROR [main] o.s.boot.diagnostics.LoggingFailureAnalysisReporter.report:42 -

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 9082 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 9082, or configure this application to listen on another port.

2018-07-03 09:27:28.601 DEBUG [pool-3-thread-1] org.springframework.amqp.rabbit.core.RabbitTemplate.revoke:1717 -Removed pubsub channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,1) from map, size now 2
2018-07-03 09:27:28.757 DEBUG [pool-3-thread-1] org.springframework.amqp.rabbit.core.RabbitTemplate.revoke:1717 -Removed pubsub channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,2) from map, size now 1
2018-07-03 09:27:28.920 DEBUG [AMQP Connection 118.190.40.58:5672] org.springframework.amqp.rabbit.core.RabbitTemplate.revoke:1717 -Removed pubsub channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,3) from map, size now 0
2018-07-03 09:27:52.204 INFO  [main] com.haoxy.rabbitmq.RabbitmqApp.logStarting:48 -Starting RabbitmqApp on hxyMacmini.local with PID 13285 (started by haoxiaoyong in /Users/haoxiaoyong/Git Clone/springboot-examples)
2018-07-03 09:27:52.207 DEBUG [main] com.haoxy.rabbitmq.RabbitmqApp.logStarting:51 -Running with Spring Boot v1.5.6.RELEASE, Spring v4.3.10.RELEASE
2018-07-03 09:27:52.208 INFO  [main] com.haoxy.rabbitmq.RabbitmqApp.logStartupProfileInfo:593 -No active profile set, falling back to default profiles: default
2018-07-03 09:27:55.592 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.addListener:1636 -Added pubsub channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,1), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751] to map, size now 1
2018-07-03 09:27:55.592 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,1), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751]
2018-07-03 09:27:55.799 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,1), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751]
2018-07-03 09:27:55.955 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.addListener:1636 -Added pubsub channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,2), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751] to map, size now 2
2018-07-03 09:27:55.955 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,2), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751]
2018-07-03 09:27:56.103 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.addListener:1636 -Added pubsub channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,3), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751] to map, size now 3
2018-07-03 09:27:56.103 DEBUG [SimpleAsyncTaskExecutor-1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,3), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751]
2018-07-03 09:27:56.253 INFO  [main] com.haoxy.rabbitmq.RabbitmqApp.logStarted:57 -Started RabbitmqApp in 4.746 seconds (JVM running for 5.836)
2018-07-03 09:27:56.956 DEBUG [RMI TCP Connection(7)-192.168.2.1] org.springframework.amqp.rabbit.core.RabbitTemplate.addListener:1636 -Added pubsub channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,4), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751] to map, size now 1
2018-07-03 09:27:56.956 DEBUG [RMI TCP Connection(7)-192.168.2.1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,4), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751]
2018-07-03 09:27:56.956 DEBUG [RMI TCP Connection(7)-192.168.2.1] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,4), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751]
2018-07-03 09:28:12.898 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.init:149 -Initializing servlet 'dispatcherServlet'
2018-07-03 09:28:12.898 INFO  [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean:489 -FrameworkServlet 'dispatcherServlet': initialization started
2018-07-03 09:28:12.899 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:508 -Using MultipartResolver [org.springframework.web.multipart.support.StandardServletMultipartResolver@4cb0a000]
2018-07-03 09:28:12.902 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:537 -Unable to locate LocaleResolver with name 'localeResolver': using default [org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@5faeccd0]
2018-07-03 09:28:12.905 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.initThemeResolver:559 -Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@596e3706]
2018-07-03 09:28:12.910 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:696 -Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@32a33cbe]
2018-07-03 09:28:12.915 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:757 -Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@13a7dc8a]
2018-07-03 09:28:12.915 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:568 -Published WebApplicationContext of servlet 'dispatcherServlet' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.dispatcherServlet]
2018-07-03 09:28:12.915 INFO  [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean:508 -FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
2018-07-03 09:28:12.915 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.init:174 -Servlet 'dispatcherServlet' configured successfully
2018-07-03 09:28:12.936 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.doService:869 -DispatcherServlet with name 'dispatcherServlet' processing POST request for [/rabbitmq/direct]
2018-07-03 09:28:12.978 DEBUG [http-nio-9082-exec-2] org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute:1453 -Executing callback on RabbitMQ Channel: Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,4), conn: Proxy@5b35d5d3 Shared Rabbit Connection: SimpleConnection@228ebd8 [delegate=amqp://guest@118.190.40.58:5672/, localPort= 52751]
2018-07-03 09:28:12.979 DEBUG [http-nio-9082-exec-2] org.springframework.amqp.rabbit.core.RabbitTemplate.doSend:1507 -Publishing message on exchange [DIRECT_EXCHANGE], routingKey = [DIRECT_ROUTING_KEY]
2018-07-03 09:28:12.998 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1048 -Null ModelAndView returned to DispatcherServlet with name 'dispatcherServlet': assuming HandlerAdapter completed request handling
2018-07-03 09:28:12.999 DEBUG [http-nio-9082-exec-2] org.springframework.web.servlet.DispatcherServlet.processRequest:1000 -Successfully completed request
2018-07-03 09:28:13.010 DEBUG [AMQP Connection 118.190.40.58:5672] org.springframework.amqp.rabbit.core.RabbitTemplate.lambda$amqpTemplate$1:50 -消息发送到exchange成功,id: cb924e2b-91b8-4c4f-8bfd-d521e09f1794
2018-07-03 09:28:13.020 DEBUG [SimpleAsyncTaskExecutor-1] com.haoxy.rabbitmq.comsumer.Receiver.message:31 -DIRECT "yongyong"
2018-07-03 09:28:30.096 DEBUG [pool-3-thread-1] org.springframework.amqp.rabbit.core.RabbitTemplate.revoke:1717 -Removed pubsub channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,1) from map, size now 2
2018-07-03 09:28:30.198 DEBUG [pool-3-thread-1] org.springframework.amqp.rabbit.core.RabbitTemplate.revoke:1717 -Removed pubsub channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,2) from map, size now 1
2018-07-03 09:28:30.333 DEBUG [Thread-17] org.springframework.amqp.rabbit.core.RabbitTemplate.revoke:1717 -Removed pubsub channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@118.190.40.58:5672/,4) from map, size now 0
